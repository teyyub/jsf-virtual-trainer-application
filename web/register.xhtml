 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <!--<h:outputText value="{res.title} - {res['register.pageTitle']}"/>-->
        <!--<link href="css/vt.css" rel="stylesheet" media="screen"/>-->
        <h:outputStylesheet library="css" name="vt.css"/>
        <h:outputStylesheet library="css" name="bootstrap.css"/>
        <link rel="shortcut icon" href="images/favicon.ico"/>
    </h:head>

    <h:body>
        <h:form>
            <table width="100%" border="0">
                <tr>
                    <td>
                        <h1 align="center">
                            <h:graphicImage library="images" name="vtlogo.jpg" alt="#{res.title}"/>
                            <h:outputText value="#{res.title}"/>
                        </h1>
                    </td>
                </tr>          
                <tr>
                    <td> 


                        <table width="100%" class="BarBkgnd">
                            <tr><td align="right">
                                    <h:commandLink action="register" immediate="true">
                                        <h:outputText value="Register"/>
                                    </h:commandLink> |                                     
                                    <h:commandLink action="login.xhtml?faces-redirect=true" immediate="true">
                                        <h:outputText value="Login"/>
                                    </h:commandLink>

                                </td></tr>
                        </table>



                        <!--        <f:subview id="loginbar">
                                  <jsp:include page="loginbar.jsp"/>
                                </f:subview>-->
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>
                            <h:outputText value="#{res['register.header']}" styleClass="PageTitle"/></p>

                            <h:messages globalOnly="true" layout="table" infoClass="RegError"/>              

                        <h:panelGrid width="70%" columns="3" border="0">

                            <h:outputLabel value="#{res['register.firstName']}" for="fname" />                
                            <h:inputText required="true" id="fname" requiredMessage="Enter First Name"
                                         value="#{loginBean.user.firstName}"/>
                            <h:message for="fname" errorClass="ValidateError"/>

                            <h:outputLabel value="#{res['register.lastName']}" for="lname" />                
                            <h:inputText required="true" id="lname" requiredMessage="Enter Last Name"
                                         value="#{loginBean.user.lastName}"/>
                            <h:message for="lname" errorClass="ValidateError"/>

                            <h:outputLabel value="#{res['register.gender']}" for="gender" />                
                            <h:selectOneRadio required="true" id="gender"  requiredMessage="Enter gender"
                                              value="#{loginBean.user.gender}" >
                                <f:selectItem itemLabel="#{res['register.male']}" itemValue="male"/>
                                <f:selectItem itemLabel="#{res['register.female']}" itemValue="female"/>
                            </h:selectOneRadio>
                            <h:message for="gender" errorClass="ValidateError"/>

                            <h:outputLabel value="#{res['register.dob']}" for="dob"/>                
                            <h:inputText id="dob" required="true" 
                                         requiredMessage="Enter Date of birth"
                                         value="#{loginBean.user.dob}" 
                                         >                  
                                <f:convertDateTime pattern="mm-dd-yyyy" />

                            </h:inputText>
                            <h:message for="dob" errorClass="ValidateError"/>

                            <h:outputLabel value="#{res['register.email']}" for="email"/>                
                            <h:inputText required="true" id="email"
                                         requiredMessage="Enter Emil"
                                         value="#{loginBean.user.email}"
                                         validator="#{loginBean.validateEmail}"/>
                            <h:message for="email" errorClass="ValidateError"/>

                            <h:outputLabel value="#{res['register.serviceLevel']}" for="level"/> 
                            <h:selectOneMenu  value="#{loginBean.user.serviceLevel}" id="level" >
                                <f:selectItem itemLabel="#{res['register.basic']}" itemValue="Basic"/>
                                <f:selectItem itemLabel="#{res['register.medium']}" itemValue="Medium"/>
                                <f:selectItem itemLabel="#{res['register.premium']}" itemValue="Premium"/>
                            </h:selectOneMenu>
                            <f:verbatim> </f:verbatim>

                            <h:outputLabel value="#{res['register.userid']}" for="userid"/>                
                            <h:inputText required="true" id="userid" requiredMessage="Enter User Id"
                                         value="#{loginBean.user.userId}"/>
                            <h:message for="userid" errorClass="ValidateError"/>

                            <h:outputLabel value="#{res['register.password']}" for="password"/>                
                            <h:inputSecret required="true" id="password" requiredMessage="Enter Password"
                                           value="#{loginBean.user.userPassword}" />
                            <h:message for="password" errorClass="ValidateError"/>

                            <h:outputLabel value="#{res['register.passwordReType']}" for="password2"/>                
                            <h:inputSecret required="true" id="password2" requiredMessage="Enter Password Again"
                                           value="#{loginBean.user.userPassword}"
                                           validator="#{registerBean.validatePassword}"/>
                            <h:message for="password2" errorClass="ValidateError"/>


                            <f:verbatim> </f:verbatim>
                            <h:panelGroup>
                                <h:commandButton value="#{res['register.registerButton']}"
                                                 action="#{loginBean.registerUser()}"  />
                                <f:verbatim> | </f:verbatim>
                                <h:commandButton value="#{res['register.cancelButton']}" action="index.xhtml?faces-redirect=true"
                                                 immediate="true" />
                            </h:panelGroup>

                        </h:panelGrid>
                    </td>
                </tr>
            </table>
        </h:form>
    </h:body>
</html>
